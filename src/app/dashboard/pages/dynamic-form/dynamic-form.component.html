<div class="min-h-screen bg-gray-100 flex items-center justify-center">
  <div class="max-w-2xl w-full mx-auto p-8 bg-white shadow-lg rounded-lg">
    <h2 class="text-2xl font-semibold mb-6">Gestion de Canciones</h2>
    <p class="text-gray-700 mb-6">Sistema de gestion de Rolas</p>


<form [formGroup]="playlistForm" >

  <div>
    <label class="block text-sm font-medium text-gray-700">Nombre</label>
    <input formControlName="name" type="text" placeholder="Nombre de la cancion" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" />
    @if (isValidControl('name')){
      <small class="text-red-500"> {{getFliedError('name')}}</small>
    }
  </div>

<br>

  <div>
    <label class="block text-sm font-medium text-gray-700">Agregar canciones</label>
    <input [formControl]="newSong" type="text" placeholder="Url de la rola" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500" />
  </div>

  <br>

  <div>
    <button (click)="addSong()" class="hover:shadow-form rounded-md bg-indigo-500 py-3 px-8 text-base font-semibold text-white outline-none">Agregar cancion</button>
  </div>

  <h1 class="mt-3 text-2xl "></h1>
  <hr>

  <div formArrayName="songs">
@for (item of favoriteSongs.controls; track item; let i = $index) {
  <div class="p-3" >
    <input [formControlName]="i" class="w-3/4 border-2 me-1 p-2 rounded" type="text" >
    <button (click)="onDeleteSongs(i)" class=" w-1/5 m-3 bg-red-300 rounded-md shadow-md p-2 hover:bg-red-500 " >Eliminar </button>
    <br>
    @if (isValidInArray(favoriteSongs, i)) {
      <small class="text-red-500"> El campo es requerido</small>
    }
  </div>
  <br>
}
</div>

</form>
</div>
</div>
